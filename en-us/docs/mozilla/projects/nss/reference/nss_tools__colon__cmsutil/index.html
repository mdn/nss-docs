<!DOCTYPE html><html><head><meta charset="utf-8"><title>NSS tools : cmsutil - Mozilla | MDN</title></head><body><main><article class="main-page-content" lang="en-US"><h1>NSS tools : cmsutil</h1><div><p>Name</p>
<p>cmsutil â€” Performs basic cryptograpic operations, such as encryption and<br>
decryption, on Cryptographic Message Syntax (CMS) messages.</p>
<p>Synopsis</p>
<p>cmsutil [options] <a href="arguments">arguments</a></p>
<p>Description</p>
<p>The cmsutil command-line uses the S/MIME Toolkit to perform basic<br>
operations, such as encryption and decryption, on Cryptographic Message<br>
Syntax (CMS) messages.</p>
<p>To run cmsutil, type the command cmsutil option [arguments] where option<br>
and arguments are combinations of the options and arguments listed in the<br>
following section. Each command takes one option. Each option may take<br>
zero or more arguments. To see a usage string, issue the command without<br>
options.</p>
<p>Options and Arguments</p>
<p>Options</p>
<p>Options specify an action. Option arguments modify an action. The options<br>
and arguments for the cmsutil command are defined as follows:</p>
<p>-D</p>
<p>Decode a message.</p>
<p>-C</p>
<p>Encrypt a message.</p>
<p>-E</p>
<p>Envelope a message.</p>
<p>-O</p>
<p>Create a certificates-only message.</p>
<p>-S</p>
<p>Sign a message.</p>
<p>Arguments</p>
<p>Option arguments modify an action and are lowercase.</p>
<p>-c content</p>
<p>Use this detached content (decode only).</p>
<p>-d dbdir</p>
<p>Specify the key/certificate database directory (default is ".")</p>
<p>-e envfile</p>
<p>Specify a file containing an enveloped message for a set of<br>
recipients to which you would like to send an encrypted message.<br>
If this is the first encrypted message for that set of recipients,<br>
a new enveloped message will be created that you can then use for<br>
future messages (encrypt only).</p>
<p>-G</p>
<p>Include a signing time attribute (sign only).</p>
<p>-h num</p>
<p>Generate email headers with info about CMS message (decode only).</p>
<p>-i infile</p>
<p>Use infile as a source of data (default is stdin).</p>
<p>-N nickname</p>
<p>Specify nickname of certificate to sign with (sign only).</p>
<p>-n</p>
<p>Suppress output of contents (decode only).</p>
<p>-o outfile</p>
<p>Use outfile as a destination of data (default is stdout).</p>
<p>-P</p>
<p>Include an S/MIME capabilities attribute.</p>
<p>-p password</p>
<p>Use password as key database password.</p>
<p>-r recipient1,recipient2, ...</p>
<p>Specify list of recipients (email addresses) for an encrypted or<br>
enveloped message. For certificates-only message, list of<br>
certificates to send.</p>
<p>-T</p>
<p>Suppress content in CMS message (sign only).</p>
<p>-u certusage</p>
<p>Set type of cert usage (default is certUsageEmailSigner).</p>
<p>-Y ekprefnick</p>
<p>Specify an encryption key preference by nickname.</p>
<p>Usage</p>
<p>Encrypt Example</p>
<p>cmsutil -C [-i infile] [-o outfile] [-d dbdir] [-p password] -r "recipient1,recipient2, . . ." -e envfile</p>
<p><br>
Decode Example</p>
<p>cmsutil -D [-i infile] [-o outfile] [-d dbdir] [-p password] [-c content] [-n] [-h num]</p>
<p><br>
Envelope Example</p>
<p>cmsutil -E [-i infile] [-o outfile] [-d dbdir] [-p password] -r "recipient1,recipient2, ..."</p>
<p><br>
Certificate-only Example</p>
<p>cmsutil -O [-i infile] [-o outfile] [-d dbdir] [-p password] -r "cert1,cert2, . . ."</p>
<p><br>
Sign Message Example</p>
<p>cmsutil -S [-i infile] [-o outfile] [-d dbdir] [-p password] -N nickname[-TGP] [-Y ekprefnick]</p>
<p><br>
See also</p>
<p>certutil(1)</p>
<p>See Also</p>
<p>Additional Resources</p>
<p>NSS is maintained in conjunction with PKI and security-related projects<br>
through Mozilla dn Fedora. The most closely-related project is Dogtag PKI,<br>
with a project wiki at [1]<a class="external" href="http://pki.fedoraproject.org/wiki/" rel=" noopener">http://pki.fedoraproject.org/wiki/</a>.</p>
<p>For information specifically about NSS, the NSS project wiki is located at<br>
[2]<a class="external" href="https://www.mozilla.org/projects/security/pki/nss/" rel=" noopener">http://www.mozilla.org/projects/security/pki/nss/</a>. The NSS site relates<br>
directly to NSS code changes and releases.</p>
<p>Mailing lists: <a class=" link-mailto" href="mailto:pki-devel@redhat.com">pki-devel@redhat.com</a> and <a class=" link-mailto" href="mailto:pki-users@redhat.com">pki-users@redhat.com</a></p>
<p>IRC: Freenode at #dogtag-pki</p>
<p>Authors</p>
<p>The NSS tools were written and maintained by developers with Netscape and<br>
now with Red Hat.</p>
<p>Authors: Elio Maldonado &lt;<a class=" link-mailto" href="mailto:emaldona@redhat.com">emaldona@redhat.com</a>&gt;, Deon Lackey<br>
&lt;<a class=" link-mailto" href="mailto:dlackey@redhat.com">dlackey@redhat.com</a>&gt;.</p>
<p>Copyright</p>
<p>(c) 2010, Red Hat, Inc. Licensed under the GNU Public License version 2.</p>
<p>References</p>
<p>Visible links<br>
1. <a class="external" href="http://pki.fedoraproject.org/wiki/" rel=" noopener">http://pki.fedoraproject.org/wiki/</a><br>
2. <a class="external" href="https://www.mozilla.org/projects/security/pki/nss/" rel=" noopener">http://www.mozilla.org/projects/security/pki/nss/</a><br>
</p></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h4>Found a problem with this page?</h4><ul><li><a href="https://github.com/mdn/content/blob/main/files/en-us/mozilla/projects/nss/reference/nss_tools__colon__cmsutil/index.html" title="Folder: en-us/mozilla/projects/nss/reference/nss_tools__colon__cmsutil (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FProjects%2FNSS%2FReference%2FNSS_tools_%3A_cmsutil%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fmozilla%2Fprojects%2Fnss%2Freference%2Fnss_tools__colon__cmsutil%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FProjects%2FNSS%2FReference%2FNSS_tools_%3A_cmsutil%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fmozilla%2Fprojects%2Fnss%2Freference%2Fnss_tools__colon__cmsutil%2Findex.html%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F850896e76a64ceab3fef10dce6acfc8851863859%0A*+Document+last+modified%3A+2021-01-26T08%3A53%3A20.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22NSS+tools+%3A+cmsutil%22%3A+%28short+summary+here+please%29&amp;labels=Content%3AOther%2Cneeds-triage" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2021-01-26T08:53:20.000Z">Jan 26, 2021</time>,<!-- --> <a href="/en-US/docs/Mozilla/Projects/NSS/Reference/NSS_tools_:_cmsutil/contributors.txt">by MDN contributors</a></p></div></aside></main></body></html>