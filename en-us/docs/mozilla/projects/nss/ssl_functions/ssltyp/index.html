<!DOCTYPE html><html><head><meta charset="utf-8"><title>ssltyp - Mozilla | MDN</title></head><body><main><article class="main-page-content" lang="en-US"><h1>ssltyp</h1><div><div class="note notecard">
  <ul>
    <li>This page is part of the <a href="/en-US/docs/Mozilla/Projects/NSS/SSL_functions/OLD_SSL_Reference">SSL Reference</a> that we are migrating into the format described in the <a href="/en-US/docs/Project:MDC_style_guide" data-flaw="link1">MDN Style Guide</a>. If you are inclined to help with this migration, your help would be very much appreciated.</li>
  </ul>
  <ul>
    <li>Upgraded documentation may be found in the <a href="/NSS_reference" data-flaw="link2">Current NSS Reference</a>
    </li>
  </ul>
</div>
<h1 id="Selected_SSL_Types_and_Structures">Selected SSL Types and Structures</h1>
<hr>
<p><a id="1030507"></a></p></div><h2 id="chapter_3_selected_ssl_types_and_structures"><a href="#chapter_3_selected_ssl_types_and_structures" title="Permalink to Chapter 3
   Selected SSL Types and Structures ">Chapter 3<br>
  </a><a id="1029792"> Selected SSL Types and Structures </a></h2><div><p><a id="1029793"> This chapter describes some of the most important types and structures used with the functions described in the rest of this document, and how to manage the memory used for them. Additional types are described with the functions that use them or in the header files.</a></p>
<p><a id="1030889"> </a><a href="#1030559">Types and Structures</a><br>
  <a href="#1029645">Managing SECItem Memory</a></p></div><h2 id="types_and_structures"><a href="#types_and_structures" title="Permalink to  Types and Structures "> Types and Structures </a></h2><div><p><a id="1030587"> These types and structures are described here:</a></p>
<p><a id="1028704"> </a><a href="#1028465"><code>CERTCertDBHandle</code></a><br>
  <a href="#1027387"><code>CERTCertificate</code></a><br>
  <a href="#1028593"><code>PK11SlotInfo</code></a><br>
  <a href="#1026076"><code>SECItem</code></a><br>
  <a href="#1026727"><code>SECKEYPrivateKey</code></a><br>
  <a href="#1026722"><code>SECStatus</code></a></p>
<p><a id="1029417"> Additional types used by a single function only are described with the function's entry in each chapter. Some of these functions also use types defined by NSPR and described in the </a><a href="/en-US/docs/Mozilla/Projects/NSPR/Reference">NSPR Reference</a>.</p>
<p>&lt;a id="&gt; Many of the structures presented here (<a href="#1028465"><code>CERTCertDBHandle</code></a>, <a href="#1027387"><code>CERTCertificate</code></a>, <a href="#1028593"><code>PK11SlotInfo</code></a>, and <a href="#1026727"><code>SECKEYPrivateKey</code></a>) are opaque--that is, they are types defined as structures (for example, <code>CERTCertDBHandleStr</code>) that may change in future releases of Network Security Services. As long as you use the form shown here, your code will not need revision.</p>
<h4 id="certcertdbhandle"> <a id="1028465"> CERTCertDBHandle </a></h4>
<p><a id="1027307"> An opaque handle structure for open certificate databases.</a></p>
<h5 id="syntax"> <a id="1029008"> Syntax </a></h5>
<pre class="notranslate"><a id="1027336">#include &lt;<code>certt.h&gt;</code></a></pre>
<pre class="notranslate"><a id="1029013">typedef struct CERTCertDBHandleStr CERTCertDBHandle;</a></pre>
<h4 id="certcertificate"> <a id="1027387"> CERTCertificate </a></h4>
<p><a id="1027388"> An opaque X.509 certificate object.</a></p>
<h5 id="syntax_2"> <a id="1029288"> Syntax </a></h5>
<pre class="notranslate"><a id="1029289">#include &lt;<code>certt.h&gt;</code></a></pre>
<pre class="notranslate"><a id="1027422">typedef struct CERTCertificateStr CERTCertificate;</a></pre>
<h5 id="description"> <a id="1029889"> Description </a></h5>
<p><a id="1029894"> Certificate structures are shared objects. When an application makes a copy of a particular certificate structure that already exists in memory, SSL makes a <i>shallow</i> copy--that is, it increments the reference count for that object rather than making a whole new copy. When you call </a><a href="sslcrt.html#1050532"><code>CERT_DestroyCertificate</code></a>, the function decrements the reference count and, if the reference count reaches zero as a result, frees the memory. The use of the word "destroy" in function names or in the description of a function often implies reference counting.</p>
<p><a id="1029891"> Never alter the contents of a certificate structure. If you attempt to do so, the change affects all the shallow copies of that structure and can cause severe problems. </a></p>
<h4 id="pk11slotinfo"> <a id="1028593"> PK11SlotInfo </a></h4>
<p><a id="1028594"> An opaque structure representing a physical or logical PKCS #11 slot.</a></p>
<h5 id="syntax_3"> <a id="1029298"> Syntax </a></h5>
<pre class="notranslate"><a id="1029299">#include &lt;<code>pk11expt.h&gt;</code></a></pre>
<p><a id="1028595"> <code>typedef struct PK11SlotInfo</code>Str <code>PK11SlotInfo</code>;</a></p>
<h4 id="secitem"> <a id="1026076"> SECItem </a></h4>
<p><a id="1029392"> A structure that points to other structures. </a></p>
<h5 id="syntax_4"> <a id="1029337"> Syntax </a></h5>
<pre class="notranslate"><a id="1029342">#include &lt;seccomon.h&gt;
#include &lt;prtypes.h&gt;
#include &lt;secport.h&gt;</a></pre>
<pre class="notranslate"><a id="1026306">typedef enum {
    siBuffer,
    siClearDataBuffer,
    siCipherDataBuffer,
    siDERCertBuffer,
    siEncodedCertBuffer,
    siDERNameBuffer,
    siEncodedNameBuffer,
    siAsciiNameString,
    siAsciiString,
    siDEROID
} SECItemType;</a></pre>
<pre class="notranslate"><a id="1029386">typedef struct SECItemStr SECItem;</a></pre>
<pre class="notranslate"><a id="1027621">struct SECItemStr {
    SECItemType type;
    unsigned char *data;
    unsigned int len;
};</a></pre>
<h5 id="description_2"> <a id="1030926"> Description </a></h5>
<p><a id="1030934"> A <code>SECItem</code> structure can be used to associate your own data with an SSL socket.</a></p>
<p><a id="1030983"> To free a structure pointed to by a <code>SECItem</code>, and, if desired, the <code>SECItem</code> structure itself, use one the functions </a><a href="#1030620"><code>SECItem_FreeItem</code></a> or <a href="#1030773"><code>SECItem_ZfreeItem</code></a>.</p>
<h4 id="seckeyprivatekey"> <a id="1026727"> SECKEYPrivateKey </a></h4>
<p><a id="1027674"> An opaque, generic key structure.</a></p>
<h5 id="syntax_5"> <a id="1029313"> Syntax </a></h5>
<pre class="notranslate"><a id="1029314">#include &lt;<code>keyt.h&gt;</code></a></pre>
<pre class="notranslate"><a id="1027665">typedef struct SECKEYPrivateKeyStr SECKEYPrivateKey;</a></pre>
<h5 id="description_3"> <a id="1029925"> Description </a></h5>
<p><a id="1029926"> Key structures are not shared objects. When an application makes a copy of a particular key structure that already exists in memory, SSL makes a <i>deep</i> copy--that is, it makes a whole new copy of that object. When you call </a><a href="sslkey.html#1051017"><code>SECKEY_DestroyPrivateKey</code></a>, the function both frees the memory and sets all the bits to zero.</p>
<p><a id="1029933"> Never alter the contents of a key structure. Treat the structure as read only. </a></p>
<h4 id="secstatus"> <a id="1026722"> SECStatus </a></h4>
<p><a id="1026094"> The return value for many SSL functions. </a></p>
<h5 id="syntax_6"> <a id="1026287"> Syntax </a></h5>
<pre class="notranslate"><a id="1027737">#include &lt;<code>seccomon.h&gt;</code></a></pre>
<pre class="notranslate"><a id="1029324">typedef enum {
    SECWouldBlock = -2,
    SECFailure = -1,
    SECSuccess = 0
} SECStatus;</a></pre>
<h5 id="enumerators"> <a id="1026433"> Enumerators </a></h5>
<p><a id="1029618"> The enum includes the following enumerators:</a></p>
<table>
  <tbody>
    <tr>
      <td>
        <pre class="notranslate"><a id="1029622">SECWouldBlock</a></pre>
      </td>
      <td>
        <p><a id="1029624"> Reserved for internal use.</a></p>
      </td>
    </tr>
    <tr>
      <td>
        <pre class="notranslate"><a id="1029626">SECFailure</a></pre>
      </td>
      <td>
        <p><a id="1029628"> The operation failed. To find out why, call </a><code><a href="../../../../../nspr/reference/html/prerr.html#26127">PR_GetError</a></code>.</p>
      </td>
    </tr>
    <tr>
      <td>
        <pre class="notranslate"><a id="1029630">SECSuccess</a></pre>
      </td>
      <td>
        <p><a id="1029632"> The operation succeeded. In this case the value returned by </a><code><a href="../../../../../nspr/reference/html/prerr.html#26127">PR_GetError</a></code> is meaningless.</p>
      </td>
    </tr>
  </tbody>
</table></div><h2 id="managing_secitem_memory"><a href="#managing_secitem_memory" title="Permalink to  Managing SECItem Memory "> Managing SECItem Memory </a></h2><div><p><a id="1030704"> These functions are available for managing the memory associated with <code>SECItem</code> structures and the structures to which they point.</a></p>
<p><a id="1030852"> </a><a href="#1030620"><code>SECItem_FreeItem</code></a><br>
  <a href="#1030773"><code>SECItem_ZfreeItem</code></a></p>
<h4 id="secitem_freeitem"> <a id="1030620"> SECItem_FreeItem </a></h4>
<p><a id="1030621"> Frees the memory associated with a <code>SECItem</code> structure.</a></p>
<h5 id="syntax_7"> <a id="1030622"> Syntax </a></h5>
<pre class="notranslate"><a id="1030623">#include &lt;prtypes.h&gt; </a></pre>
<pre class="notranslate"><a id="1030624">SECStatus SECItem_FreeItem (
&nbsp;&nbsp;&nbsp;SECItem *item,
&nbsp;&nbsp;&nbsp;PRBool freeItem)</a></pre>
<h5 id="parameter"> <a id="1030625"> Parameter </a></h5>
<p><a id="1030631"> This function has the following parameter:</a></p>
<table>
  <tbody>
    <tr>
      <td>
        <p><a id="1030628"><code>item</code></a></p>
      </td>
      <td>
        <p><a id="1030630"> A pointer to a <code>SECItem</code> structure.</a></p>
      </td>
    </tr>
    <tr>
      <td>
        <p><a id="1030680"> freeItem</a></p>
      </td>
      <td>
        <p><a id="1030682"> When <code>PR_FALSE</code>, free only the structure pointed to. Otherwise, free both the structure pointed to and the <code>SECItem</code> structure itself.</a></p>
      </td>
    </tr>
  </tbody>
</table>
<h5 id="returns"> <a id="1030632"> Returns </a></h5>
<p><a id="1030633"> The function returns one of these value<var>s</var>:</a></p>
<ul>
  <li><a id="1030634"> If successful, <code>SECSuccess</code>.</a></li>
  <li><a id="1030637"> If unsuccessful, <code>SECFailure</code>. Use </a><a href="../../../../../nspr/reference/html/prerr.html#26127">PR_GetError</a> to retrieve the error code.</li>
</ul>
<h5 id="description_4"> <a id="1030638"> Description </a></h5>
<p><a id="1030639"> This function frees the memory associated with the structure to which the specified item points, when that structure is no longer used. When <code>freeItem</code> is not <code>PR_FALSE</code>, also frees the item structure itself.</a></p>
<h4 id="secitem_zfreeitem"> <a id="1030773"> SECItem_ZfreeItem </a></h4>
<p><a id="1030774"> Zeroes and frees the memory associated with a <code>SECItem</code> structure.</a></p>
<h5 id="syntax_8"> <a id="1030775"> Syntax </a></h5>
<pre class="notranslate"><a id="1030776">#include &lt;prtypes.h&gt; </a></pre>
<pre class="notranslate"><a id="1030777">SECStatus SECItem_ZfreeItem (
&nbsp;&nbsp;&nbsp;SECItem *item,
&nbsp;&nbsp;&nbsp;PRBool freeItem)</a></pre>
<h5 id="parameter_2"> <a id="1030778"> Parameter </a></h5>
<p><a id="1030788"> This function has the following parameter:</a></p>
<table>
  <tbody>
    <tr>
      <td>
        <p><a id="1030781"><code>item</code></a></p>
      </td>
      <td>
        <p><a id="1030783"> A pointer to a <code>SECItem</code> structure.</a></p>
      </td>
    </tr>
    <tr>
      <td>
        <p><a id="1030785"> freeItem</a></p>
      </td>
      <td>
        <p><a id="1030787"> When <code>PR_FALSE</code>, free only the structure pointed to. Otherwise, free both the structure pointed to and the <code>SECItem</code> structure itself.</a></p>
      </td>
    </tr>
  </tbody>
</table>
<h5 id="returns_2"> <a id="1030789"> Returns </a></h5>
<p><a id="1030790"> The function returns one of these value<var>s</var>:</a></p>
<ul>
  <li><a id="1030791"> If successful, <code>SECSuccess</code>.</a></li>
  <li><a id="1030794"> If unsuccessful, <code>SECFailure</code>. Use </a><a href="../../../../../nspr/reference/html/prerr.html#26127">PR_GetError</a> to retrieve the error code.</li>
</ul>
<h5 id="description_5"> <a id="1030795"> Description </a></h5>
<p><a id="1030796"> This function is similar to </a><a href="#1030620"><code>SECItem_FreeItem</code></a>, except that it overwrites the structures to be freed with zeroes before it frees them. Zeros and frees the memory associated with the structure to which the specified item points, when that structure is no longer used. When <code>freeItem</code> is not <code>PR_FALSE</code>, also zeroes and frees the item structure itself.<a id="1030611"></a></p></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h4>Found a problem with this page?</h4><ul><li><a href="https://github.com/mdn/content/blob/main/files/en-us/mozilla/projects/nss/ssl_functions/ssltyp/index.html" title="Folder: en-us/mozilla/projects/nss/ssl_functions/ssltyp (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FProjects%2FNSS%2FSSL_functions%2Fssltyp%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fmozilla%2Fprojects%2Fnss%2Fssl_functions%2Fssltyp%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FProjects%2FNSS%2FSSL_functions%2Fssltyp%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fmozilla%2Fprojects%2Fnss%2Fssl_functions%2Fssltyp%2Findex.html%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Fe7adae4c255ddbe6412a546794d12f746104b299%0A*+Document+last+modified%3A+2021-03-24T11%3A41%3A35.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22ssltyp%22%3A+%28short+summary+here+please%29&amp;labels=Content%3AOther%2Cneeds-triage" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2021-03-24T11:41:35.000Z">Mar 24, 2021</time>,<!-- --> <a href="/en-US/docs/Mozilla/Projects/NSS/SSL_functions/ssltyp/contributors.txt">by MDN contributors</a></p></div></aside></main></body></html>